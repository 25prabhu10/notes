#!/usr/bin/bash

# ---------------------------------------------------------------------------------
# Abort on errors
# ---------------------------------------------------------------------------------
set -e

# ---------------------------------------------------------------------------------
# Variable declarations
# ---------------------------------------------------------------------------------
DIST=docs/.vuepress/dist

# ---------------------------------------------------------------------------------
# Navigate to the dist (build output) directory
# ---------------------------------------------------------------------------------
echo "CHANGED DIRECTORY TO DIST"
cd "$DIST"

# ---------------------------------------------------------------------------------
# Commit
# ---------------------------------------------------------------------------------
echo "INITILIZING GIT..."
git init
git add -A
echo "COMMITTING..."
git commit -m 'deploy'

# ---------------------------------------------------------------------------------
# Push
# ---------------------------------------------------------------------------------
# if you are deploying to https://<USERNAME>.github.io
echo "DEPLOYING..."
git push -f git@github.com:25prabhu10/25prabhu10.github.io.git master

# Navigate back to previous directory
echo "DONE"
cd -
